---
import { ViewTransitions } from 'astro:transitions'

interface Props {
  author?: string
  twitter?: string
  title?: string
  description?: string
  ogImage?: {
    src: string
    alt: string
  }
  publishDate?: Date
}

const defaultMeta = {
  author: 'linuxmobile',
  twitter: '@CodeMarsStudio',
  title: 'CodeMars',
  description: 'Dise√±ando la web del futuro hoy.',
  ogImage: {
    src: '/notfound.png',
    alt: 'Og from CodeMars'
  }
}

const {
  author = defaultMeta.author,
  twitter = defaultMeta.twitter,
  title = defaultMeta.title,
  description = defaultMeta.description,
  ogImage = defaultMeta.ogImage,
  publishDate = ''
} = Astro.props

const canonicalURL = new URL(Astro.url).href
---

<head>
  <!-- <link rel='sitemap' href='/sitemap-index.xml' /> -->
  <meta charset='utf-8' />
  <meta name='generator' content={Astro.generator} />
  <meta
    name='viewport'
    content='initial-scale=1.0, width=device-width, viewport-fit=cover'
  />
  <meta name='theme-color' content='#D54011' />

  <title>{title}</title>
  <link rel='canonical' href={canonicalURL} />
  <meta name='title' content={title} />
  <meta name='description' content={description} />
  <meta property='og:type' content='website' />
  <meta property='og:url' content={canonicalURL} />
  <meta property='og:title' content={title} />
  <meta property='og:description' content={description} />
  <!-- <meta property='og:image' content={ogImageURL} /> -->
  <meta property='og:site_name' content={author} />
  <meta property='og:image:alt' content={ogImage.alt} />
  <meta property='og:locale' content='en_US' />
  <meta property='twitter:card' content='summary_large_image' />
  <meta property='twitter:url' content={canonicalURL} />
  <meta name='twitter:site' content={twitter} />
  <meta name='twitter:creator' content={twitter} />
  <meta property='twitter:title' content={title} />
  <meta property='twitter:description' content={description} />
  <!-- <meta property='twitter:image' content={ogImageURL} /> -->
  <meta name='robots' content='follow, index' />
  <meta name='author' content={author} />
  {
    publishDate && (
      <meta
        property='article:published_time'
        content={publishDate.toISOString()}
      />
    )
  }

  <link rel='icon' href='/favicon.ico' type='image/svg+xml' />
  <ViewTransitions />
</head>
